"use strict";(()=>{var e={};e.id=473,e.ids=[473],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9566:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>v,requestAsyncStorage:()=>f,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h});var a={};t.r(a),t.d(a,{GET:()=>d,dynamic:()=>p,runtime:()=>u});var s=t(9303),n=t(8716),o=t(3131),i=t(7070);let u="nodejs",p="force-dynamic";async function c(e,r,t,a=18){let s=new URL("/api/stations",e);s.searchParams.set("lat",String(r)),s.searchParams.set("lon",String(t)),s.searchParams.set("radiusKm",String(a));let n=await fetch(s.toString(),{cache:"no-store"});if(!n.ok)throw Error(`stations ${n.status}`);let o=await n.json();return Array.isArray(o)?o:[]}async function d(e){try{let r=process.env.NEXT_PUBLIC_BASE_URL?.replace(/\/$/,"")||e.nextUrl.origin,t=await Promise.all([[51.5072,-.1276],[51.55,-.2],[51.55,0],[51.48,-.3],[51.48,.1],[51.6,-.15]].map(([e,t])=>c(r,e,t,18))),a=new Map;for(let e of t)for(let r of e){let e=r?.ID!=null?String(r.ID):`${r?.AddressInfo?.Latitude??""},${r?.AddressInfo?.Longitude??""}`;e&&!a.has(e)&&a.set(e,r)}let s=Array.from(a.values()),n={ts:Date.now(),count:s.length,items:s};return i.NextResponse.json({ok:!0,count:n.count})}catch(e){return i.NextResponse.json({ok:!1,error:String(e?.message||e)},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/refresh/route",pathname:"/api/refresh",filename:"route",bundlePath:"app/api/refresh/route"},resolvedPagePath:"/workspaces/autodun-ev-finder/app/api/refresh/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:f,staticGenerationAsyncStorage:h,serverHooks:m}=l,g="/api/refresh/route";function v(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,972],()=>t(9566));module.exports=a})();